{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { take } from 'rxjs/operators';\nlet JwtInterceptor = class JwtInterceptor {\n  constructor(accountService) {\n    this.accountService = accountService;\n  }\n\n  intercept(request, next) {\n    let currentUser;\n    this.accountService.currentUser$.pipe(take(1)).subscribe(user => currentUser = user);\n\n    if (currentUser) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${currentUser.token}`\n        }\n      });\n    }\n\n    return next.handle(request);\n  }\n\n};\nJwtInterceptor = __decorate([Injectable()], JwtInterceptor);\nexport { JwtInterceptor };","map":null,"metadata":{},"sourceType":"module"}